import{r as R,j as _,Q as nt}from"./app-OhvGvjOB.js";import{L as st}from"./AuthenticatedLayout-CIIpZ10k.js";import{c as at,S as Z}from"./config-CRQlmYBd.js";import"./transition-BSqaxkIn.js";import"./dog-rvt4AGSg.js";import"./ArrowRightOnRectangleIcon-V4BJe9IO.js";var z={exports:{}},F={exports:{}},it=F.exports,K;function ot(){return K||(K=1,function(A,B){(function(w,M){A.exports=M()})(it,function(){var w=1e3,M=6e4,O=36e5,b="millisecond",u="second",p="minute",y="hour",$="day",x="week",h="month",C="quarter",D="year",L="date",P="Invalid Date",G=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,tt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,et={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],t=s%100;return"["+s+(r[(t-20)%10]||r[t]||r[0])+"]"}},U=function(s,r,t){var n=String(s);return!n||n.length>=r?s:""+Array(r+1-n.length).join(t)+s},rt={s:U,z:function(s){var r=-s.utcOffset(),t=Math.abs(r),n=Math.floor(t/60),e=t%60;return(r<=0?"+":"-")+U(n,2,"0")+":"+U(e,2,"0")},m:function s(r,t){if(r.date()<t.date())return-s(t,r);var n=12*(t.year()-r.year())+(t.month()-r.month()),e=r.clone().add(n,h),a=t-e<0,i=r.clone().add(n+(a?-1:1),h);return+(-(n+(t-e)/(a?e-i:i-e))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:h,y:D,w:x,d:$,D:L,h:y,m:p,s:u,ms:b,Q:C}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},N="en",j={};j[N]=et;var Q="$isDayjsObject",J=function(s){return s instanceof I||!(!s||!s[Q])},W=function s(r,t,n){var e;if(!r)return N;if(typeof r=="string"){var a=r.toLowerCase();j[a]&&(e=a),t&&(j[a]=t,e=a);var i=r.split("-");if(!e&&i.length>1)return s(i[0])}else{var c=r.name;j[c]=r,e=c}return!n&&e&&(N=e),e||!n&&N},f=function(s,r){if(J(s))return s.clone();var t=typeof r=="object"?r:{};return t.date=s,t.args=arguments,new I(t)},o=rt;o.l=W,o.i=J,o.w=function(s,r){return f(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var I=function(){function s(t){this.$L=W(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[Q]=!0}var r=s.prototype;return r.parse=function(t){this.$d=function(n){var e=n.date,a=n.utc;if(e===null)return new Date(NaN);if(o.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var i=e.match(G);if(i){var c=i[2]-1||0,d=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],c,i[3]||1,i[4]||0,i[5]||0,i[6]||0,d)):new Date(i[1],c,i[3]||1,i[4]||0,i[5]||0,i[6]||0,d)}}return new Date(e)}(t),this.init()},r.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},r.$utils=function(){return o},r.isValid=function(){return this.$d.toString()!==P},r.isSame=function(t,n){var e=f(t);return this.startOf(n)<=e&&e<=this.endOf(n)},r.isAfter=function(t,n){return f(t)<this.startOf(n)},r.isBefore=function(t,n){return this.endOf(n)<f(t)},r.$g=function(t,n,e){return o.u(t)?this[n]:this.set(e,t)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(t,n){var e=this,a=!!o.u(n)||n,i=o.p(t),c=function(Y,g){var S=o.w(e.$u?Date.UTC(e.$y,g,Y):new Date(e.$y,g,Y),e);return a?S:S.endOf($)},d=function(Y,g){return o.w(e.toDate()[Y].apply(e.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(g)),e)},l=this.$W,m=this.$M,v=this.$D,T="set"+(this.$u?"UTC":"");switch(i){case D:return a?c(1,0):c(31,11);case h:return a?c(1,m):c(0,m+1);case x:var k=this.$locale().weekStart||0,E=(l<k?l+7:l)-k;return c(a?v-E:v+(6-E),m);case $:case L:return d(T+"Hours",0);case y:return d(T+"Minutes",1);case p:return d(T+"Seconds",2);case u:return d(T+"Milliseconds",3);default:return this.clone()}},r.endOf=function(t){return this.startOf(t,!1)},r.$set=function(t,n){var e,a=o.p(t),i="set"+(this.$u?"UTC":""),c=(e={},e[$]=i+"Date",e[L]=i+"Date",e[h]=i+"Month",e[D]=i+"FullYear",e[y]=i+"Hours",e[p]=i+"Minutes",e[u]=i+"Seconds",e[b]=i+"Milliseconds",e)[a],d=a===$?this.$D+(n-this.$W):n;if(a===h||a===D){var l=this.clone().set(L,1);l.$d[c](d),l.init(),this.$d=l.set(L,Math.min(this.$D,l.daysInMonth())).$d}else c&&this.$d[c](d);return this.init(),this},r.set=function(t,n){return this.clone().$set(t,n)},r.get=function(t){return this[o.p(t)]()},r.add=function(t,n){var e,a=this;t=Number(t);var i=o.p(n),c=function(m){var v=f(a);return o.w(v.date(v.date()+Math.round(m*t)),a)};if(i===h)return this.set(h,this.$M+t);if(i===D)return this.set(D,this.$y+t);if(i===$)return c(1);if(i===x)return c(7);var d=(e={},e[p]=M,e[y]=O,e[u]=w,e)[i]||1,l=this.$d.getTime()+t*d;return o.w(l,this)},r.subtract=function(t,n){return this.add(-1*t,n)},r.format=function(t){var n=this,e=this.$locale();if(!this.isValid())return e.invalidDate||P;var a=t||"YYYY-MM-DDTHH:mm:ssZ",i=o.z(this),c=this.$H,d=this.$m,l=this.$M,m=e.weekdays,v=e.months,T=e.meridiem,k=function(g,S,H,q){return g&&(g[S]||g(n,a))||H[S].slice(0,q)},E=function(g){return o.s(c%12||12,g,"0")},Y=T||function(g,S,H){var q=g<12?"AM":"PM";return H?q.toLowerCase():q};return a.replace(tt,function(g,S){return S||function(H){switch(H){case"YY":return String(n.$y).slice(-2);case"YYYY":return o.s(n.$y,4,"0");case"M":return l+1;case"MM":return o.s(l+1,2,"0");case"MMM":return k(e.monthsShort,l,v,3);case"MMMM":return k(v,l);case"D":return n.$D;case"DD":return o.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return k(e.weekdaysMin,n.$W,m,2);case"ddd":return k(e.weekdaysShort,n.$W,m,3);case"dddd":return m[n.$W];case"H":return String(c);case"HH":return o.s(c,2,"0");case"h":return E(1);case"hh":return E(2);case"a":return Y(c,d,!0);case"A":return Y(c,d,!1);case"m":return String(d);case"mm":return o.s(d,2,"0");case"s":return String(n.$s);case"ss":return o.s(n.$s,2,"0");case"SSS":return o.s(n.$ms,3,"0");case"Z":return i}return null}(g)||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(t,n,e){var a,i=this,c=o.p(n),d=f(t),l=(d.utcOffset()-this.utcOffset())*M,m=this-d,v=function(){return o.m(i,d)};switch(c){case D:a=v()/12;break;case h:a=v();break;case C:a=v()/3;break;case x:a=(m-l)/6048e5;break;case $:a=(m-l)/864e5;break;case y:a=m/O;break;case p:a=m/M;break;case u:a=m/w;break;default:a=m}return e?a:o.a(a)},r.daysInMonth=function(){return this.endOf(h).$D},r.$locale=function(){return j[this.$L]},r.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),a=W(t,n,!0);return a&&(e.$L=a),e},r.clone=function(){return o.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),V=I.prototype;return f.prototype=V,[["$ms",b],["$s",u],["$m",p],["$H",y],["$W",$],["$M",h],["$y",D],["$D",L]].forEach(function(s){V[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),f.extend=function(s,r){return s.$i||(s(r,I,f),s.$i=!0),f},f.locale=W,f.isDayjs=J,f.unix=function(s){return f(1e3*s)},f.en=j[N],f.Ls=j,f.p={},f})}(F)),F.exports}var ut=z.exports,X;function ct(){return X||(X=1,function(A,B){(function(w,M){A.exports=M(ot())})(ut,function(w){function M(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var O=M(w),b={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(u){return u+"º"}};return O.default.locale(b,null,!0),b})}(z)),z.exports}ct();const dt=at.apiBaseUrl;function gt(){const[A,B]=R.useState(!1),[w,M]=R.useState([]),O=async()=>{var u;try{B(!0);const p={"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Authorization:""},y=localStorage.getItem("token");y&&(p.Authorization=`Bearer ${y}`);const $=await fetch(`${dt}/products`,{method:"GET",headers:p,credentials:"same-origin"});if(!$.ok){let h="Error al obtener la dirección.";try{const C=await $.json();h=((u=C.context)==null?void 0:u.Message)||C.message||h}catch{}throw new Error(h)}const x=await $.json();M(x.data)}catch(p){Z.fire({icon:"error",title:"Error al obtener los datos.",text:p.message,showConfirmButton:!0,confirmButtonColor:"#646464ff"})}finally{B(!1)}};R.useEffect(()=>{O()},[]);const b=async u=>{var p;try{const y=(p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"),$=localStorage.getItem("token"),x=await fetch("/cart",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":y,...$?{Authorization:`Bearer ${$}`}:{}},body:JSON.stringify({product_id:u.id}),credentials:"same-origin"});if(!x.ok){const h=await x.json();throw new Error(h.message||"Error al añadir al carrito")}window.dispatchEvent(new Event("cartChanged")),Z.fire({icon:"success",title:"Producto añadido",text:`${u.name} se añadió al carrito`,timer:1500,showConfirmButton:!1})}catch(y){Z.fire({icon:"error",title:"Error",text:y.message||"No se pudo añadir al carrito",confirmButtonColor:"#9a9a9aff"})}};return _.jsxs(st,{children:[_.jsx(nt,{title:"Dashboard"}),_.jsx("div",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-[#ffffff]",children:_.jsx("div",{className:"max-w-7xl mx-auto",children:_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:w==null?void 0:w.map(u=>_.jsxs("div",{className:"group shadow-md rounded-lg overflow-hidden bg-white",children:[_.jsx("div",{className:"aspect-w-1 aspect-h-1 bg-gray-100",children:_.jsx("img",{src:u.image_path,alt:u.name,className:"h-80 w-full object-cover object-center transition-opacity duration-300 group-hover:opacity-80"})}),_.jsxs("div",{className:"p-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h3",{className:"text-sm font-medium text-gray-800",children:u.name}),_.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",u.price]})]}),_.jsx("button",{onClick:()=>b(u),className:"mt-4 w-full bg-black text-white py-2 rounded-md hover:bg-gray-800 transition-colors",children:"Añadir al Carrito"})]})]},u.id))})})})]})}export{gt as default};
